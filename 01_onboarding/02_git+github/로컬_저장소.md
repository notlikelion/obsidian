# 로컬 저장소

#git #local-repository #workflow #git #init #staging #commit #history

## 📁 저장소 초기화

- 프로젝트 폴더 생성 및 Git 저장소 초기화

```bash
mkdir my-project    # 새 프로젝트 폴더 생성
cd my-project       # 생성한 폴더로 이동
git init            # Git 저장소 초기화 (.git 폴더 생성)
```

## 🔄 파일 상태 흐름

Git은 변경사항을 세 단계로 관리합니다.

- **Working Directory**: 작업 중인 파일
- **Staging Area (Index)**: 커밋 대기 중인 변경사항
- **Repository**: 커밋 이력이 저장되는 공간

## ➕ 변경사항 스테이징

| 명령어             | 설명                     |
| ------------------ | ------------------------ |
| `git add <파일명>` | 특정 파일을 스테이징     |
| `git add .`        | 전체 변경사항을 스테이징 |

```bash
# 특정 파일 추가
git add file1.txt

# 특정 폴더 추가
git add my_folder/

# 모든 변경사항 추가
git add .
```

## 📄 상태 확인

- 현재 저장소의 상태를 확인합니다. (어떤 파일이 변경되었는지, 어떤 파일이 Staging Area에 있는지 등)

```bash
git status         # 변경사항 및 스테이징 상태 확인
```

## ↩️ 스테이징 해제

- Staging Area에 추가된 파일을 다시 Working Directory로 되돌립니다.

```bash
git reset <파일명>  # 특정 파일 스테이징 해제
git reset          # 전체 스테이징 해제
```

# 💾 커밋

- Staging Area에 있는 파일들을 하나의 버전(스냅샷)으로 만들어 로컬 저장소에 영구적으로 기록합니다.

```bash
git commit -m "커밋 메시지"  # 스테이징된 변경사항 커밋
```

- `-m` 옵션 없이 `git commit`만 실행하면 vi, nano 등 기본 텍스트 편집기가 열립니다.
  - `i`를 눌러 편집 모드로 전환하고 커밋 메시지를 작성합니다.
  - `Esc` 키를 누르고 `:wq`를 입력하여 저장하고 종료합니다.

## 📜 커밋 이력 조회

```bash
git log --oneline --graph --all  # 요약된 그래프 형태로 이력 확인
```

## ✏️ 커밋 수정 및 취소

| 명령어                     | 설명                                    |
| -------------------------- | --------------------------------------- |
| `git commit --amend`       | 최근 커밋 메시지 수정                   |
| `git reset --soft HEAD~1`  | 최근 커밋 취소 (변경사항 스테이징 유지) |
| `git reset --mixed HEAD~1` | 최근 커밋 취소 (스테이징 해제)          |
| `git reset --hard HEAD~1`  | 최근 커밋 및 변경사항 모두 삭제 (주의)  |
| `git revert HEAD`          | 최근 커밋 되돌리기 (새로운 커밋 생성)   |
