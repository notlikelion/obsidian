# 04. ì‹¤ìŠµ ì˜ˆì œ

#ìŠ¤íŠ¸ë¦¼ #stream #ëŒë‹¤ #lambda #ë©”ì„œë“œì°¸ì¡°

---

https://github.com/notlikelion/250805_fp/tree/main/src/step1

---

## Solution01: ì…ë ¥ì„ ìˆ«ì/ë¬¸ì ë¶„ë¥˜í•˜ê¸°

#Scanner #parseInt #NumberFormatException

```java
package step1;

import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

public class Solution01 {
    public static void main(String[] args) {
        // ë¬¸ìì—´ê³¼ ìˆ«ìë¥¼ ê°ê° ë³„ë„ì˜ ë¦¬ìŠ¤íŠ¸ë¡œ ìˆ˜ì§‘
        List<String> stringList = new ArrayList<>();
        List<Integer> intList = new ArrayList<>();

        Scanner scanner = new Scanner(System.in);
        while (true) {
            System.out.print("ì…ë ¥í•´ì£¼ì„¸ìš” : ");
            String input = scanner.nextLine();
            if (input.equals("ì¢…ë£Œ")) {
                break; // "ì¢…ë£Œ" ì…ë ¥ ì‹œ ë°˜ë³µ ì¢…ë£Œ
            }
            try {
                // ìˆ«ìë¡œ ë³€í™˜ ê°€ëŠ¥í•œ ê²½ìš° ìˆ«ì ë¦¬ìŠ¤íŠ¸ì— ì €ì¥
                intList.add(Integer.parseInt(input));
            } catch (NumberFormatException e) {
                // ìˆ«ì ë³€í™˜ ì‹¤íŒ¨ ì‹œ ë¬¸ìì—´ ë¦¬ìŠ¤íŠ¸ì— ì €ì¥
                System.err.println("ìˆ«ì í¬ë§·ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");
                stringList.add(input);
            }

            System.out.println(stringList);
            System.out.println(intList);
        }
    }
}
```

---

## Solution02: ë¦¬ìŠ¤íŠ¸ ìš”ì†Œ ì¼ê´„ ë³€í™˜(Ã—10)

#map #ë³€í™˜ #ì‚¬ì´ë“œì´í™íŠ¸

```java
package step1;

import java.util.ArrayList;
import java.util.List;
import java.util.Random;

public class Solution02 {
    public static void main(String[] args) {
        List<Integer> numberList = new ArrayList<>();
        Random rd = new Random();

        // 10~20ê°œ ì‚¬ì´ì˜, 0~100 ì‚¬ì´ì˜ ë‚œìˆ˜ ìƒì„± í›„ ë¦¬ìŠ¤íŠ¸ ì±„ìš°ê¸°
        for (int i = 0; i < rd.nextInt(11) + 10; i++) {
            numberList.add(rd.nextInt(101));
        }
        System.out.println(numberList);

        // 1) ì „í†µ for ë£¨í”„: ì›ë³¸ì„ ì§ì ‘ ìˆ˜ì •(ì‚¬ì´ë“œ ì´í™íŠ¸ ë°œìƒ ê°€ëŠ¥)
        for (int i = 0; i < numberList.size(); i++) {
            numberList.set(i, numberList.get(i) * 10);
        }
        System.out.println(numberList);

        // 2) í–¥ìƒëœ for: ì‚¬ë³¸ ë¦¬ìŠ¤íŠ¸ ìƒì„±
        List<Integer> numberList2 = new ArrayList<>();
        for (int v : numberList) {
            numberList2.add(v * 10);
        }
        System.out.println(numberList2);
        System.out.println(numberList); // ì›ë³¸ì€ ê·¸ëŒ€ë¡œ ìœ ì§€

        // 3) ìŠ¤íŠ¸ë¦¼ map: ì„ ì–¸í˜• íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ ë³€í™˜
        List<Integer> numberList3 = numberList.stream()
                .map(Solution02::multiplyTen)
                .toList();
        System.out.println(numberList3);
    }

    static int multiplyTen(int x) {
        return x * 10;
    }
}
```

---

## Solution03: ë©”ì„œë“œ ì°¸ì¡° ì²´ì´ë‹ê³¼ ë¹„êµ

#method-reference #absolute #abs #random

```java
package step1;

import java.util.ArrayList;
import java.util.List;
import java.util.Random;

public class Solution03 {
    public static void main(String[] args) {
        List<Integer> list = new ArrayList<>();
        Random rd = new Random();

        // ì •ê·œ ë¶„í¬ ë‚œìˆ˜ë¥¼ ì •ìˆ˜ ë²”ìœ„ë¡œ ë³€í™˜í•˜ì—¬ 100ê°œ ìƒì„±
        for (int i = 0; i < 100; i++) {
            list.add((int) (rd.nextGaussian() * 100));
        }
        System.out.println(list);

        // ìŠ¤íŠ¸ë¦¼ + ë©”ì„œë“œ ì°¸ì¡° ì²´ì´ë‹
        List<Integer> list2 = list.stream()
                .map(Math::abs)            // ì ˆëŒ€ê°’
                .map(Solution03::addOne)   // +1
                .map(rd::nextInt)          // 0 ì´ìƒ í•´ë‹¹ ê°’ ë¯¸ë§Œì˜ ë‚œìˆ˜ë¡œ ë§¤í•‘
                .toList();

        // ì „í†µ ë°©ì‹ ë¹„êµ
        List<Integer> list3 = new ArrayList<>();
        for (int i : list) {
            int v = rd.nextInt(addOne(Math.abs(i)));
            list3.add(v);
        }

        System.out.println(list2);
        System.out.println(System.identityHashCode(list2));
        System.out.println(list);
        System.out.println(System.identityHashCode(list));
    }

    static int addOne(int x) { return x + 1; }
}
```

---

## Solution04: ë¬¸ìì—´ ë³€í™˜(map) ì‹¤ìŠµ

#map #formatted #í¬ë§¤íŒ…

```java
package step1;

import java.util.List;

public class Solution04 {
    public static void main(String[] args) {
        List<String> list = List.of("ë°”ë‚˜ë‚˜", "ì‚¬ê³¼", "ë°°", "ê·¤", "í¬ë„");
        System.out.println(list);

        System.out.println(
                list.stream()
                    .map(x -> "ğŸ’ %s ğŸ’".formatted(x)) // ë©”ì„œë“œ ì°¸ì¡°ë¡œë„ ê°€ëŠ¥: "ğŸ’ %s ğŸ’"::formatted
                    .toList()
        );
    }

    static String change(String x) { return x + "ì…ë‹ˆë‹¤"; }
}
```

---

## Solution05: map/filter/sorted ë‹¤ì–‘í•œ ì˜ˆì‹œ

#sorted #descending #compareTo #boxed

```java
package step1;

import java.util.Arrays;
import java.util.List;

public class Solution05 {
    public static void main(String[] args) {
        // map ì˜ˆì‹œ
        List<String> lst1 = List.of("Hello", "Bye", "Go Go");
        System.out.println(lst1);
        System.out.println(
            lst1.stream().map(x -> {
                if (x.length() <= 3) return "ğŸ˜‚";
                return "ğŸ˜";
            }).toList()
        );

        // filter ì˜ˆì‹œ(ì ˆëŒ€ê°’ì´ 10 ì´ìƒ)
        List<Double> lst2 = List.of(1.314, -3.7, -23.5555, 12.485);
        System.out.println(
            lst2.stream().map(Math::abs).filter(x -> x >= 10).toList()
        );

        // ë°°ì—´ ì •ë ¬
        int[] arr = {1, 5, 7, 9, 2, 4};
        int[] sortedArr = Arrays.stream(arr).sorted().toArray();
        System.out.println(Arrays.toString(sortedArr));

        // ì›ë³¸ ì •ë ¬(ì‚¬ì´ë“œ ì´í™íŠ¸)
        Arrays.sort(arr);
        System.out.println(Arrays.toString(arr));

        // ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬(ë°•ì‹± í›„ Comparator ì‚¬ìš©)
        List<Integer> sortedDesc = Arrays.stream(arr)
                .boxed()
                .sorted((a, b) -> b - a)
                .toList();
        System.out.println(sortedDesc);

        // ë¬¸ìì—´ ì •ë ¬(ê¸°ë³¸/ì—­ìˆœ/ê¸¸ì´)
        List<String> stringList = List.of("ì‚¬ê³¼", "ê·¤", "ë°”ë‚˜ë‚˜");
        System.out.println(stringList.stream().sorted().toList());
        System.out.println(stringList.stream().sorted((a, b) -> b.compareTo(a)).toList());
        System.out.println(stringList.stream().sorted((a, b) -> a.length() - b.length()).toList());
        System.out.println(stringList.stream().sorted((a, b) -> b.length() - a.length()).toList());
    }
}
```

---

## Solution06: reduceì™€ forEach

#reduce #forEach #accumulator #ì´ˆê¸°ê°’

```java
package step1;

import java.util.List;

public class Solution06 {
    public static void main(String[] args) {
        // í•©ê³„(ì „í†µ ë°©ì‹)
        List<Integer> l1 = List.of(1, 5, 4, 3, 7);
        int sum = 0;
        for (Integer i : l1) sum += i;
        System.out.println(sum);

        // reduceë¡œ í•©ê³„/ê³± ê³„ì‚°
        System.out.println("REDUCE");
        System.out.println(l1.stream().reduce(0, (cur, acc) -> cur + acc));
        System.out.println(l1.stream().reduce(1, (cur, acc) -> cur * acc));

        // ë¬¸ìì—´ ì—°ê²°(reduce)
        List<String> list = List.of("apple", "asia", "anaconda", "bear", "pear");
        System.out.println(list.stream().reduce("%s,%s"::formatted).orElse(""));

        // forEach â€” ì¢…ê²° ì—°ì‚°(ì†Œë¹„)
        list.stream().forEach(System.out::println);
    }
}
```
